<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Second Part</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/styles.css">
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
</head>
<body>
    <div class="sample">
        <form @submit.prevent="forSubmited = true" v-if="!forSubmited">
            <div class="scroll content alert alert-info" @scroll="onScroll">
                <p>This text no one reads. This text no one reads. This text no one reads.</p>
                <p>This text no one reads. This text no one reads. This text no one reads.</p>
                <p>This text no one reads. This text no one reads. This text no one reads.</p>
                <p>This text no one reads. This text no one reads. This text no one reads.</p>
                <p>This text no one reads. This text no one reads. This text no one reads.</p>
                <p>This text no one reads. This text no one reads. This text no one reads.</p>
                <p>This text no one reads. This text no one reads. This text no one reads.</p>
                <p>This text no one reads. This text no one reads. This text no one reads.</p>
                <p>This text no one reads. This text no one reads. This text no one reads.</p>
                <p>This text no one reads. This text no one reads. This text no one reads.</p>
                <p>This text no one reads. This text no one reads. This text no one reads.</p>
                <p>This text no one reads. This text no one reads. This text no one reads.</p>
                <p>This text no one reads. This text no one reads. This text no one reads.</p>
                <p>This text no one reads. This text no one reads. This text no one reads.</p>
                <p>This text no one reads. This text no one reads. This text no one reads.</p>
                <p>This text no one reads. This text no one reads. This text no one reads.</p>
                <p>This text no one reads. This text no one reads. This text no one reads.</p>
                <p>This text no one reads. This text no one reads. This text no one reads.</p>
                <p>This text no one reads. This text no one reads. This text no one reads.</p>
                <p>This text no one reads. This text no one reads. This text no one reads.</p>
                <p>This text no one reads. This text no one reads. This text no one reads.</p>
                <p>This text no one reads. This text no one reads. This text no one reads.</p>
            </div>
            <template v-if="scrolled">
                <div class="form-check">
                    <label class="form-check-label">
                        <input class="form-check-input" type="checkbox" v-model="flags.agree">
                        Согласен
                    </label>
                </div>
                <div class="form-check">
                    <label class="form-check-label">
                        <input class="form-check-input" type="checkbox" v-model="flags.spam">
                        Хочу получать спам
                    </label>
                 </div>
                 <div class="form-check" v-show="flags.spam">
                    <label class="form-check-label">
                        <input class="form-check-input" type="radio" value="phone" v-model="spam">
                        Phone
                    </label>
                 </div>
                <div class="form-check" v-show="flags.spam">
                    <label class="form-check-label">
                    <input class="form-check-input" type="radio" value="email" v-model="spam">
                        Email
                    </label>
                </div>
                <hr>
                <button class="btn btn-primary" v-show="flags.agree">
                    Send Data
                </button>
            </template>
            <div v-else>
                <table class="table table-bordered">
                    <tr>
                        <td>Agree Text</td>
                        <td>{{ flags.agree ? 'Yes' : 'No' }}</td>
                    </tr>
                    <tr>
                        <td>Get Spam</td>
                        <td>{{ flags.spam ? 'Yes' : 'No' }}</td>
                    </tr>
                    <tr v-if="flags.spam">
                        <td>Spam On</td>
                        <td>{{ spam }}</td>
                    </tr>
                </table>
            </div>
        </form>
    </div>
    <script>
        new Vue({
            el: '.sample',
            data: {
                forSubmited: false,
                scrolled: false,
                flags: {
                    agree: false,
                    spam: false
                },
                spam: 'Phone',
            },
            methods: {
                onScroll(e) {
                    if(e.target.scrollHeight - e.target.clientHeight - e.target.scrollTop < 1) {
                        this.scrolled = true;
                    }
                }
            }
        })
    </script>
</body>
</html>